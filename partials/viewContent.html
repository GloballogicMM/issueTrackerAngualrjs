<section ng-show="todos.length">
    <ul>
        <li ng-repeat="todo in todos">
            <div class="view" ng-show="!todo.editing">
                <label>{{todo.title}}</label>
                <p>{{todo.desc}}</p>
                <span>{{todo.date}}</span>
                <span>{{todo.users}}</span>
                <button class="btn" ng-click="editTodo(todo)" ng-disabled="editing">Edit</button>
                <button class="btn" ng-click="removeTodo(todo)">del</button>
            </div>
        </li>
    </ul>
</section>

<script type="text/javascript">
    $(document).ready(function() {
        $('.multiselect').multiselect({
            buttonClass: 'btn',
            buttonWidth: 'auto',
            buttonContainer: '<div class="btn-group" />',
            maxHeight: false,
            buttonText: function(options) {
                if (options.length == 0) {
                    return 'None selected <b class="caret"></b>';
                }
                else if (options.length > 3) {
                    return options.length + ' selected  <b class="caret"></b>';
                }
                else {
                    var selected = '';
                    options.each(function() {
                        selected += $(this).text() + ', ';
                    });
                    return selected.substr(0, selected.length -2) + ' <b class="caret"></b>';
                }
            }
        });
    });
</script>
